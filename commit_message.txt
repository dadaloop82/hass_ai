fix: implement definitive conversation agent check